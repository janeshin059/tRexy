{"version":3,"sources":["logo.svg","assets/background.jpg","components/Game/Background/Background.tsx","assets/dinosaur.png","components/Game/Dino/Dino.tsx","assets/block.png","components/Game/Obstacle/Obstacle.tsx","assets/obstacle.png","components/Game/Main.tsx","assets/restart.png","App.js","reportWebVitals.js","index.js"],"names":["Background","props","interval","useRef","useState","offset","setOffset","useEffect","clearInterval","current","draw","isStart","moveBackGround","ctx","document","querySelector","getContext","img","Image","src","HorizonImg","onload","drawImage","width","height","setInterval","id","Dino","isJumpMode","setisJumpMode","addEventListener","handleJump","removeEventListener","e","dino","keyCode","console","log","classList","add","setTimeout","remove","DinoImg","Obstacle","style","Obstacle2Img","Main","setIsStart","isGameOver","setIsGameOver","time","setTime","showObstacle","setShowObstacle","handleStart","obstacle","obstacle2","Math","floor","checkGameOver","dinoTop","parseInt","getComputedStyle","getPropertyValue","obstacleLeft","obstacle2Left","alert","className","round","toString","onClick","preventDefault","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.986dcb7d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export default __webpack_public_path__ + \"static/media/background.be21e754.jpg\";","import { useEffect, useRef, useState } from \"react\";\nimport HorizonImg from \"../../../assets/background.jpg\";\n\nconst UPDATE = 150;\nconst SPEED = 10;\n\nfunction Background(props: {isStart:boolean}) {\n  const interval: { current: NodeJS.Timeout | null } = useRef(null);\n  const [offset, setOffset] = useState(0);\n\n  useEffect(() => {\n    return () => {\n      clearInterval(interval.current as NodeJS.Timeout);\n    };\n  }, []);\n\n  useEffect(() => {\n    \n    draw();\n    if(props.isStart){\n    moveBackGround();\n    }\n    return () => {\n      clearInterval(interval.current as NodeJS.Timeout);\n    };\n  }, [offset, props.isStart]);\n\n  const draw = () => {\n    const canvas = document.querySelector(\n      \"canvas#background\"\n    ) as HTMLCanvasElement;\n\n    const ctx = canvas.getContext(\"2d\");\n    const img = new Image();\n\n    img.src = HorizonImg;\n\n\t\tif(!ctx) return;\n\t\n    img.onload = function () {\n      ctx?.drawImage(\n        img,\n        offset,\n        0,\n        img.width - offset,\n        img.height,\n        0,\n        0,\n        img.width - offset,\n        img.height\n      );\n      ctx?.drawImage(\n        img,\n        0,\n        0,\n        offset,\n        img.height,\n        img.width - offset,\n        0,\n        offset,\n        img.height\n      ); //이어서 그리기\n    };\n  };\n\n  const moveBackGround = () => {\n    const img = new Image();\n    img.src = HorizonImg;\n\n    interval.current = setInterval(() => {\n      if (offset === img.width - SPEED) {\n        setOffset(0);\n      } else {\n        setOffset(offset + SPEED);\n      }\n    }, UPDATE);\n  };\n\n  return (\n    <div>\n      <canvas width=\"600px\" height=\"150px\" id=\"background\"></canvas>\n    </div>\n  );\n}\n\nexport default Background;\n","export default __webpack_public_path__ + \"static/media/dinosaur.196c6537.png\";","import { useEffect, useLayoutEffect, useState } from \"react\";\nimport DinoImg from \"../../../assets/dinosaur.png\";\nimport \"./Dino.css\";\n\nfunction Dino() {\n  const [isJumpMode, setisJumpMode] = useState(false);\n  \n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleJump);\n    return () => {\n      document.removeEventListener(\"keydown\", handleJump);\n    };\n  }, []);\n\n  const handleJump = (e: any) => {\n\t\tconst dino = document.querySelector(\"#dino\");\n    if (!dino) {\n      return;\n    }\n    if ((e.keyCode === 38 && !isJumpMode) || (e.keyCode === 32 && !isJumpMode)) {\n      setisJumpMode(true);\n      console.log(\"jump\");\n      dino.classList.add(\"jump\");\n    }\n\n    setTimeout(() => {\n      dino.classList.remove(\"jump\");\n      setisJumpMode(false);\n      console.log(isJumpMode);\n    }, 1000);\n  };\n\n  return (\n    <img\n      id=\"dino\"\n      src={DinoImg}\n    />\n  );\n}\n\nexport default Dino;\n","export default __webpack_public_path__ + \"static/media/block.d94d9d2b.png\";","import ObstacleImg from '../../../assets/obstacle.png';\nimport Obstacle2Img from '../../../assets/block.png';\nimport './Obstacle.css';\n\nfunction Obstacle(props: {showObstacle?: boolean}) {\n\n\treturn (\n\t\t<>\n\t\t<img id=\"obstacle\" src={ObstacleImg}/>\n\t\t<img style={{width: '50px', height:'30px'}}id=\"obstacle2\" src={Obstacle2Img}/>\n\t\t</>\n\t)\n\n}\nexport default Obstacle;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAXCAYAAAGJ5NSFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAATRJREFUeNpiCI+MdPj//z8DCKupqzuwMDAw7K+srGSAA6CK/0gq/gMEEEjAAMoxYKyoqPgPUnXy0EGw0gNQmQMAAQTWBxNA0n8AZAYTAx6AVxIggBiQHYzscJCu/VjU72fRVFVlAProPzaj/mMxCrfrcEoABBAjyCgo++CKZcsccClU19A4AKTs4ZpAjvvx6xdeL4PC9unbd2A2KH4Yrt++TZJN+EOUrGigpiaAAAIFBNgfQP8cwKcQ6CcHWCDA4pqRgOH7yXIWOJgV5eWxJxxqeBxsw/2HD0GexuuHdevX/yfLhhGpASDAkHMiAzE5khBAzkcUpXKyEggIaCgpMjAys4CKJ31gcjxAroFi/Hz6rz5+wm4JyAJoOSSA7l1SACsLC3UKBbKDC1o4Dt2IH7Vk8FkCAMHcls4tSX0KAAAAAElFTkSuQmCC\"","import { useEffect, useRef, useState } from \"react\";\nimport Background from \"./Background/Background\";\nimport Dino from \"./Dino/Dino\";\nimport Obstacle from \"./Obstacle/Obstacle\";\nimport \"./Main.css\";\nimport Restart from '../../assets/restart.png';\n\n\n\nfunction Main() {\n  const [isStart, setIsStart] = useState(false);\n  const [isGameOver, setIsGameOver] = useState(false);\n  const [time, setTime] = useState(0);\n  const [showObstacle, setShowObstacle] = useState(false);\n  const interval = useRef<any>();\n\n  const handleStart = (e: any) => {\n    if (e.keyCode === 32) {\n      setIsStart(true);\n      if(isGameOver){\n        setIsGameOver(false);\n        }\n    }\n  };\n\n  const handleReStart = (e:any) => {\n    e.preventDefault();\n    if(isGameOver){\n      setIsGameOver(false);\n      setIsStart(true);\n    }\n  }\n  /*Start game when press Space bar */\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleStart);\n    return () => {\n      document.removeEventListener(\"keydown\", handleStart);\n    };\n  }, [isStart, isGameOver]);\n\n  useEffect(() => {\n    const obstacle = document.querySelector(\"#obstacle\");\n    const obstacle2 = document.querySelector(\"#obstacle2\");\n    if (isStart && !isGameOver) {\n      obstacle?.classList.add(\"move\");\n      obstacle2?.classList.add(\"move-2\");\n      interval.current = setInterval(() => {\n        if (Math.floor(time) % 2 == 1) {\n          setShowObstacle(true);\n        } else {\n          setShowObstacle(false);\n        }\n\n        setTime(time + 0.02);\n        checkGameOver();\n      }, 20);\n    }\n\n    return () => {\n      clearInterval(interval.current);\n      \n    };\n  }, [time, isStart, isGameOver]);\n\n  const checkGameOver = () => {\n    const dino = document.querySelector(\"#dino\");\n    const obstacle = document.querySelector(\"#obstacle\");\n    const obstacle2 = document.querySelector(\"#obstacle2\");\n\n    if (dino && obstacle && obstacle2) {\n      const dinoTop = parseInt(getComputedStyle(dino).getPropertyValue(\"top\"));\n      const obstacleLeft = parseInt(\n        getComputedStyle(obstacle).getPropertyValue(\"left\")\n      );\n\n      const obstacle2Left = parseInt(\n        getComputedStyle(obstacle2).getPropertyValue(\"left\")\n      );\n     // console.log(dinoTop, obstacleLeft);\n      console.log(dinoTop, obstacle2Left);\n\n      if (dinoTop >= 90 && obstacleLeft < 125 && obstacleLeft > 65 || \n        dinoTop >= 90 && obstacle2Left < 120 && obstacle2Left > 65 ) {\n        alert(\"Game over\");\n        setIsStart(false);\n        setIsGameOver(true);\n        obstacle?.classList.remove(\"move\");\n        obstacle2?.classList.remove(\"move-2\");\n        setTime(0);\n      }\n    }\n  };\n\n  return (\n    <div className=\"wrapper\">\n      <div className=\"description-wrapper\">\n\t\t\t<p className=\"title\">T-Rex</p>\n\t\t\t<div className=\"description\">Press <span className=\"bold\">space bar</span> to start. Use the <span className=\"bold\">up arrow key</span>  to jump.</div>\n      </div>\n      <div className=\"score-wrapper\">\n      {/* <div className=\"current-score\">HI </div> */}\n      <div className=\"current-score\">{ parseInt(((Math.round(time * 1e2) / 1e2) * 10).toString())} </div>\n      </div>\n      <div className=\"game\">\n       {isGameOver && <img className=\"restart\" src={Restart} onClick={handleReStart}></img>}\n        <Background isStart={isStart}></Background>\n        <Dino></Dino>\n\n        <Obstacle showObstacle={showObstacle}></Obstacle>\n      </div>\n     \n    </div>\n  );\n}\n\nexport default Main;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAgCAQAAADQmBIFAAAAZklEQVR4Xu3WMQoAIAxDUe/Y+58jYwV1CwQJWQT5o/DAoaWjV2i/LRym/A5FjEsR41LPQchByEHwIVAEC4gZpghmSDP8egXpr/hQZaAKQFQe+pBOQAblDC336qrlPpSg0MEjInbWTLFFmwc8TpTAAAAAAElFTkSuQmCC\"","import logo from './logo.svg';\nimport './App.css';\nimport Main from './components/Game/Main';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n    <Main></Main>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}